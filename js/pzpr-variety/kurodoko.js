/*! @license pzpr.js v0.11.1 (c) 2009-2019 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */

!function(a,b){"object"==typeof module&&module.exports?module.exports=[a,b]:pzpr.classmgr.makeCustom(a,b)}(["kurodoko"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["number","clear","info-blk"],play:["shade","unshade","info-blk"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.puzzle.editmode&&this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0,maxnum:function(){return this.board.cols+this.board.rows-1},minnum:2},Board:{cols:9,rows:9},AreaUnshadeGraph:{enabled:!0},Graphic:{hideHatena:!0,gridcolor_type:"DLIGHT",enablebcolor:!0,bgcellcolor_func:"qsub1",numbercolor_func:"qnum",circleratio:[.45,.4],paint:function(){this.drawBGCells(),this.drawGrid(),this.drawShadedCells(),this.drawCircledNumbers(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(a){this.decodeNumber16()},encodePzpr:function(a){this.encodeNumber16()},decodeKanpen:function(){this.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()},kanpenOpen:function(){this.decodeCellQnumAns_kanpen()},kanpenSave:function(){this.encodeCellQnumAns_kanpen()},kanpenOpenXML:function(){this.decodeCellQnum_XMLBoard(),this.decodeCellAns_XMLAnswer()},kanpenSaveXML:function(){this.encodeCellQnum_XMLBoard(),this.encodeCellAns_kurodoko_XMLAnswer()},UNDECIDED_NUM_XML:-4,encodeCellAns_kurodoko_XMLAnswer:function(){this.encodeCellXMLArow(function(a){if(-1===a.qnum){if(1===a.qans)return"w";if(1===a.qsub)return"s"}return"u"})}},AnsCheck:{checklist:["checkShadeCellExist","checkAdjacentShadeCell","checkConnectUnshadeRB","checkViewOfNumber"],checkViewOfNumber:function(){for(var a=this.board.cell,b=0;b<a.length;b++){var c=a[b];if(c.isValidNum()){var d,e=new this.klass.CellList,f=c.adjacent;for(e.add(c),d=f.left;d.isUnshade();)e.add(d),d=d.adjacent.left;for(d=f.right;d.isUnshade();)e.add(d),d=d.adjacent.right;for(d=f.top;d.isUnshade();)e.add(d),d=d.adjacent.top;for(d=f.bottom;d.isUnshade();)e.add(d),d=d.adjacent.bottom;if(c.qnum!==e.length){if(this.failcode.add("nmSumViewNe"),this.checkOnly)break;e.seterr(1)}}}}},FailCode:{nmSumViewNe:["数字と黒マスにぶつかるまでの4方向のマスの合計が違います。","The number and the sum of the coutinuous unshaded cells of four direction is different."]}});