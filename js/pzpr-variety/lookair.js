/*! @license pzpr.js v0.11.1 (c) 2009-2019 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */

!function(a,b){"object"==typeof module&&module.exports?module.exports=[a,b]:pzpr.classmgr.makeCustom(a,b)}(["lookair"],{MouseEvent:{use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.puzzle.editmode&&this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0},Cell:{maxnum:5,minnum:0,countDir5ShadedCell:function(){for(var a=0,b=this.adjacent,c=[this,b.top,b.bottom,b.left,b.right],d=0;d<5;d++)!c[d].isnull&&c[d].isShade()&&a++;return a}},AreaShadeGraph:{enabled:!0},Graphic:{enablebcolor:!0,bgcellcolor_func:"qsub1",paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawShadedCells(),this.drawQuesNumbers(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(a){this.decodeNumber10()},encodePzpr:function(a){this.encodeNumber10()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkShadeCellExist+","checkSquareShade","checkLookair","checkDir5ShadeCell+"],checkDir5ShadeCell:function(){for(var a=this.board,b=0;b<a.cell.length;b++){var c=a.cell[b];if(c.isValidNum()&&c.getNum()!==c.countDir5ShadedCell()){if(this.failcode.add("nmShade5Ne"),this.checkOnly)break;c.seterr(1)}}},checkSquareShade:function(){this.checkAllArea(this.board.sblkmgr,function(a,b,c,d){return a*b===c&&a===b},"csNotSquare")},checkLookair:function(){function a(a,c,d){var e=b.getc(c,d);if(e.isnull)return 1;if(!e.isShade())return 0;var f=e.sblk.clist;if(a.length===f.length){if(this.failcode.add("lookairBC"),this.checkOnly)return 2;a.seterr(1),f.seterr(1)}return 1}var b=this.board;a:for(var c=0;c<b.sblkmgr.components.length;c++){for(var d=b.sblkmgr.components[c].clist,e=d.getRectSize(),f=e.x1;f<=e.x2;f+=2)for(var g=e.y1-2;g>=b.minby;g-=2){var h=a.call(this,d,f,g);if(1===h)break;if(2===h)break a}for(var g=e.y1;g<=e.y2;g+=2)for(var f=e.x1-2;f>=b.minbx;f-=2){var h=a.call(this,d,f,g);if(1===h)break;if(2===h)break a}}}},FailCode:{nmShade5Ne:["数字およびその上下左右にある黒マスの数が間違っています。","the number is not equal to the number of shaded cells in the cell and four adjacent cells."],lookairBC:["同じ大きさの黒マスのカタマリの間に他の黒マスのカタマリがありません。","A mass of shaded cells can looks other same size mass of shaded cells."]}});